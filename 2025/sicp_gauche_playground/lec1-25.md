結論：Alyssa の実装では 高速素数判定は成立しない
	•	剰余を毎段入れないと「数が膨れ上がってから mod を取る」ため、
速度もメモリも耐えられず、場合によっては整数オーバーフローで誤判定になる。

⸻

■ 直感的な説明
	•	フェルマー法では (bᵉ mod n) を求めたいだけ。
	•	mod を途中で掛ければ、常に 0 ≤ 値 < n を保てる。
	•	Alyssa の方法は 全額を現金で払ったあと 1 円玉でお釣りをもらうようなもの。
正しい方法は 都度クーポンを使い “割り引き” しながら払うので、手元のお金が増えない。

⸻

まとめ（Markdown テーブル）

方式	中間値の桁数	理論計算量(乗算回数)	実際の速度	オーバーフロー危険	フェルマーテスト適合
逐次剰余 (章の実装)	≲ log₂ m	Θ(log exp)	速い	低	○
Alyssa 案	**~ exp·log₂ b**	Θ(log exp)	遅い	高	×

Alyssa は正しくない。
フェルマー法を生かすには「掛け算ごとに mod を取る」逐次剰余式 expmod が不可欠です。
